{"version":3,"sources":["util/veryUniqueId.js","theme/ScreenReader.js","theme/FormControl.js","theme/Button.js","SearchForm.js","Search.js","util/constants.js","Header.js","Footer.js","Home.js","util/unescape.js","ResultsListItem.js","ResultsList.js","Results.js","util/cleanTitle.js","PlayerPlayPauseButton.js","AnimeTune.js","AnimeTunes.js","AnimeInfo.js","Anime.js","PlayerAudio.js","PlayerButtons.js","PlayerTimeline.js","PlayerVolume.js","QueueButton.js","QueueItemControls.js","QueueItem.js","Queue.js","Player.js","App.js","registerServiceWorker.js","index.js","video/nonon.mp4","video/nonon.webm"],"names":["veryUniqueId","ids","prefix","id","uniqueId","includes","ScreenReader","styled","span","FormControl","input","props","theme","inputPaddingY","inputPaddingX","grey","Button","button","Form","form","Label","label","SearchInput","extend","SearchForm","location","state","value","decodeURI","search","replace","handleChange","bind","handleFocus","handleBlur","handleSubmit","this","event","setState","target","updateState","inputFocused","preventDefault","onSubmit","htmlFor","type","placeholder","onChange","onFocus","onBlur","Component","withRouter","Search","history","query","trim","length","error","message","results","fetch","then","res","json","result","push","SiteHeader","header","primary","Logo","h1","Header","Link","to","SiteFooter","footer","Paragraph","p","Footer","href","rel","Video","video","Home","width","height","autoPlay","loop","muted","src","mp4","webm","htmlUnescapes","reEscapedHtml","reHasEscapedHtml","RegExp","source","unescape","string","test","entity","Image","img","ResultsListItem","anime","mal_id","image_url","alt","title","List","ul","Item","li","ResultsList","map","key","Results","Redirect","defaultProps","cleanTitle","PlayerPlayPauseButton","handleClick","togglePlay","playing","loaded","icon","faPause","faPlay","faSpinner","onClick","aria-label","pulse","Tune","div","Text","Buttons","AnimeTune","tune","createTuneObject","handleAddClick","handlePlayClick","number","options","maxResults","videoEmbeddable","strict","youtubeSearch","english","matched","filter","toLowerCase","japanese","banned","some","malId","image","youtubeId","addTune","queue","text","faPlus","AnimeTunes","tunes","index","Article","article","Data","Info","Tunes","AnimeInfo","episodes","status","aired","title_japanese","opening_themes","ending_themes","synopsis","Anime","loadAnime","prevProps","match","params","PlayerAudio","audio","handleReady","handlePlay","handleEnd","handleStateChange","progress","volume","playVideo","pauseVideo","seek","seekTo","timePassed","setVolume","clearInterval","timer","mute","setInterval","tick","setProgress","updateAppState","unMute","nextTune","duration","getDuration","data","getCurrentTime","YouTube","videoId","opts","playerVars","autoplay","onReady","onPlay","onEnd","onStateChange","PlayerButtons","previousTune","faStepBackward","faStepForward","Timeline","Time","Range","PlayerTimeline","prevPlaying","handleMouseDown","handleMouseUp","pauseTune","parseInt","playTune","formatTime","time","Date","toISOString","substr","min","max","disabled","onMouseDown","onMouseUp","VolumeControls","VolumeSliderPanel","hovering","VolumeSlider","VolumeButton","PlayerVolume","handleMouseEnter","handleMouseLeave","toggleMute","faVolumeUp","faVolumeDown","faVolumeOff","onMouseEnter","onMouseLeave","QueueButton","buttonClick","open","faList","QueueItemControls","handleSkipClick","handleRemoveClick","skipToTune","removeTune","first","faTrash","single","QueueItem","controls","Container","Queue","PlayerControls","show","Player","prevVolume","handleKeyDown","rewind","document","addEventListener","removeEventListener","code","audioReady","black","controlsOpen","Main","section","App","hydrateState","saveState","window","JSON","parse","localStorage","getItem","setItem","stringify","slice","play","queueIds","queueTune","historyIds","historyTune","findIndex","i","className","Route","exact","path","component","render","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","injectGlobal","ReactDOM","getElementById","URL","process","origin","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.83fd4423.chunk.js","sourcesContent":["import uniqueId from 'lodash/uniqueId';\n\nfunction veryUniqueId(ids, prefix) {\n  const id = uniqueId(prefix);\n\n  if (!ids.includes(id)) {\n    return id;\n  }\n\n  return veryUniqueId(ids, prefix);\n}\n\nexport default veryUniqueId;\n","import styled from 'styled-components';\n\nconst ScreenReader = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n`;\n\nexport default ScreenReader;\n","import styled from 'styled-components';\n\nconst FormControl = styled.input`\n  display: block;\n  width: 100%;\n  padding-top: ${props => props.theme.inputPaddingY};\n  padding-right: ${props => props.theme.inputPaddingX};\n  padding-bottom: ${props => props.theme.inputPaddingY};\n  padding-left: ${props => props.theme.inputPaddingX};\n  border: 1px solid ${props => props.theme.grey};\n`;\n\nexport default FormControl;\n","import styled from 'styled-components';\n\nconst Button = styled.button`\n  display: inline-block;\n  min-width: 42px;\n  padding-top: ${props => props.theme.inputPaddingY};\n  padding-right: ${props => props.theme.inputPaddingX};\n  padding-bottom: ${props => props.theme.inputPaddingY};\n  padding-left: ${props => props.theme.inputPaddingX};\n  cursor: pointer;\n  user-select: none;\n  background: #fff;\n  border: 1px solid ${props => props.theme.grey};\n\n  & + & {\n    border-left: 0;\n  }\n\n  &:hover {\n    background-color: #f5f5f5;\n  }\n`;\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport ScreenReader from './theme/ScreenReader';\nimport FormControl from './theme/FormControl';\nimport Button from './theme/Button';\n\nconst Form = styled.form`\n  display: flex;\n  flex-grow: 1;\n  margin-left: 1rem;\n`;\n\nconst Label = styled.label`\n  flex-grow: 1;\n  margin-bottom: 0;\n`;\n\nconst SearchInput = FormControl.extend`\n  border-right: 0;\n`;\n\nclass SearchForm extends Component {\n  constructor(props) {\n    super(props);\n    const { location } = this.props;\n\n    this.state = {\n      value: decodeURI(location.search.replace('?search=', '')),\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const { search } = this.props;\n    const { value } = this.state;\n\n    search(value);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value,\n    });\n  }\n\n  handleFocus() {\n    const { updateState } = this.props;\n\n    updateState({\n      inputFocused: true,\n    });\n  }\n\n  handleBlur() {\n    const { updateState } = this.props;\n\n    updateState({\n      inputFocused: false,\n    });\n  }\n\n  handleSubmit(event) {\n    const { search } = this.props;\n    const { value } = this.state;\n\n    search(value);\n    event.preventDefault();\n  }\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      // @Todo: Maybe have a way to load in your anime list\n      <Form onSubmit={this.handleSubmit}>\n        <Label htmlFor=\"search\">\n          <ScreenReader>Search</ScreenReader>\n          <SearchInput\n            id=\"search\"\n            type=\"text\"\n            value={value}\n            placeholder=\"Name of anime\"\n            onChange={this.handleChange}\n            onFocus={this.handleFocus}\n            onBlur={this.handleBlur}\n          />\n        </Label>\n        <Button type=\"submit\">Submit</Button>\n      </Form>\n    );\n  }\n}\nSearchForm.propTypes = {\n  location: PropTypes.shape().isRequired,\n  search: PropTypes.func.isRequired,\n  updateState: PropTypes.func.isRequired,\n};\n\nexport default withRouter(SearchForm);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { JIKAN_BASE_URL } from './util/constants';\nimport SearchForm from './SearchForm';\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.search = this.search.bind(this);\n  }\n\n  search(value) {\n    const { updateState, history } = this.props;\n    const query = value.trim();\n\n    if (!query) return;\n\n    if (query.length < 3) {\n      updateState({\n        error: {\n          message: 'Search must be more than three characters.',\n        },\n      });\n\n      return;\n    }\n\n    updateState({ results: [] });\n    fetch(`${JIKAN_BASE_URL}search/anime?q=${query}`)\n      .then(res => res.json())\n      .then(\n        result => {\n          let state = {\n            results: result.results,\n          };\n\n          if ('error' in result) {\n            state = {\n              ...result,\n            };\n          }\n\n          updateState(state);\n        },\n        error => {\n          updateState({\n            error,\n          });\n        },\n      );\n    history.push(`/results?search=${query}`);\n  }\n\n  render() {\n    const { updateState } = this.props;\n\n    return <SearchForm search={this.search} updateState={updateState} />;\n  }\n}\nSearch.propTypes = {\n  history: PropTypes.shape().isRequired,\n  updateState: PropTypes.func.isRequired,\n};\n\nexport default withRouter(Search);\n","export const JIKAN_BASE_URL = 'https://api.jikan.moe/v3/';\nexport const YOUTUBE_KEY = 'AlolIzaSyDReH9UcgtcpGaNSS2ASQe1DA64uTH6Wgc';\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Search from './Search';\n\nconst SiteHeader = styled.header`\n  position: sticky;\n  top: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  background-color: #fff;\n  border-bottom: 1px solid ${props => props.theme.primary};\n`;\n\nconst Logo = styled.h1`\n  margin: 0;\n  font-size: 1rem;\n`;\n\nfunction Header({ updateState }) {\n  return (\n    <SiteHeader>\n      <Link to=\"/\">\n        <Logo>op-ed</Logo>\n      </Link>\n      <Search updateState={updateState} />\n    </SiteHeader>\n  );\n}\nHeader.propTypes = {\n  updateState: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst SiteFooter = styled.footer`\n  padding: 1rem;\n`;\n\nconst Paragraph = styled.p`\n  margin-bottom: 0;\n  text-align: right;\n`;\n\nfunction Footer() {\n  return (\n    <SiteFooter>\n      <Paragraph>\n        &copy;\n        {\n          // eslint-disable-next-line react/jsx-one-expression-per-line\n        }{' '}\n        <a\n          href=\"https://github.com/jamesxoxo/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          James Coventry\n        </a>\n      </Paragraph>\n    </SiteFooter>\n  );\n}\n\nexport default Footer;\n","/* eslint-disable jsx-a11y/media-has-caption */\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport mp4 from './video/nonon.mp4';\nimport webm from './video/nonon.webm';\n\nconst Video = styled.video`\n  display: block;\n  max-width: 100%;\n  height: auto;\n`;\n\nfunction Home() {\n  return (\n    <article>\n      <h1>Welcome</h1>\n      <p>\n        This website is to help you listen to anime opening/ending songs. Use\n        the search box above to get started.\n      </p>\n      <p>\n        <Video width=\"500\" height=\"280\" autoPlay loop muted>\n          <source src={mp4} type=\"video/mp4\" />\n          <source src={webm} type=\"video/webm\" />\n        </Video>\n      </p>\n      <p>It relies on the MAL API so if that goes down this goes down.</p>\n    </article>\n  );\n}\n\nexport default Home;\n","// Pretty much an exact copy of lodash's method but with some extras.\n\nconst htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\",\n  '&#039;': \"'\",\n};\n\nconst reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#039);/g;\nconst reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\nfunction unescape(string) {\n  return string && reHasEscapedHtml.test(string)\n    ? string.replace(reEscapedHtml, entity => htmlUnescapes[entity])\n    : string;\n}\n\nexport default unescape;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport unescape from './util/unescape';\n\nconst Image = styled.img`\n  margin-right: 0.5rem;\n  object-fit: cover;\n`;\n\nfunction ResultsListItem({ anime }) {\n  return (\n    <Link to={`/anime/${anime.mal_id}`}>\n      <Image src={anime.image_url} alt={anime.title} width=\"30\" height=\"30\" />\n      {unescape(anime.title)}\n    </Link>\n  );\n}\nResultsListItem.propTypes = {\n  anime: PropTypes.shape().isRequired,\n};\n\nexport default ResultsListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport ResultsListItem from './ResultsListItem';\n\nconst List = styled.ul`\n  padding-left: 0;\n  list-style: none;\n`;\n\nconst Item = styled.li`\n  &:not(:last-child) {\n    margin-bottom: 0.5rem;\n  }\n`;\n\nfunction ResultsList({ results }) {\n  return (\n    <List>\n      {results.map(result => (\n        <Item key={result.mal_id}>\n          <ResultsListItem anime={result} />\n        </Item>\n      ))}\n    </List>\n  );\n}\nResultsList.propTypes = {\n  results: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default ResultsList;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport ResultsList from './ResultsList';\n\nfunction Results({ error, results, location }) {\n  if (error) {\n    return <div>{error.message}</div>;\n  }\n  if (results.length) {\n    return <ResultsList results={results} />;\n  }\n  if (!location.search) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return <div>Loading...</div>;\n}\nResults.propTypes = {\n  error: PropTypes.shape(),\n  results: PropTypes.arrayOf(PropTypes.object).isRequired,\n  location: PropTypes.shape().isRequired,\n};\nResults.defaultProps = {\n  error: null,\n};\n\nexport default Results;\n","import unescape from './unescape';\n\nfunction cleanTitle(title) {\n  const cleanedTitle = unescape(title)\n    .replace(/#[0-9]+:? /, '')\n    .replace(/\\(TV Broadcast[:;]?.*?\\)/i, '')\n    .replace(/\\(((TV|BD\\/DVD): )?eps? .*?\\)/i, '')\n    .replace(/\\(Japanese version.*\\)/i, '')\n    .trim();\n\n  return cleanedTitle;\n}\n\nexport default cleanTitle;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\nimport faPlay from '@fortawesome/fontawesome-free-solid/faPlay';\nimport faPause from '@fortawesome/fontawesome-free-solid/faPause';\nimport faSpinner from '@fortawesome/fontawesome-free-solid/faSpinner';\nimport Button from './theme/Button';\n\nclass PlayerPlayPauseButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const { togglePlay } = this.props;\n\n    togglePlay();\n  }\n\n  render() {\n    const { playing, loaded } = this.props;\n    let icon = playing ? faPause : faPlay;\n\n    if (!loaded) {\n      icon = faSpinner;\n    }\n\n    return (\n      <Button\n        onClick={this.handleClick}\n        aria-label={playing ? 'Pause' : 'Play'}\n      >\n        <FontAwesomeIcon icon={icon} pulse={icon === faSpinner} />\n      </Button>\n    );\n  }\n}\nPlayerPlayPauseButton.propTypes = {\n  loaded: PropTypes.bool.isRequired,\n  playing: PropTypes.bool.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n};\n\nexport default PlayerPlayPauseButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport youtubeSearch from 'youtube-search';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\nimport faPlay from '@fortawesome/fontawesome-free-solid/faPlay';\nimport faPlus from '@fortawesome/fontawesome-free-solid/faPlus';\nimport { YOUTUBE_KEY } from './util/constants';\nimport PlayerPlayPauseButton from './PlayerPlayPauseButton';\nimport Button from './theme/Button';\n\nconst Tune = styled.div`\n  display: flex;\n  flex-wrap: none;\n  align-items: center;\n`;\n\nconst Text = styled.span`\n  flex-grow: 1;\n`;\n\nconst Buttons = styled.span`\n  display: flex;\n  margin-left: 0.5rem;\n`;\n\nclass AnimeTune extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tune: null,\n    };\n\n    this.createTuneObject = this.createTuneObject.bind(this);\n    this.handleAddClick = this.handleAddClick.bind(this);\n    this.handlePlayClick = this.handlePlayClick.bind(this);\n  }\n\n  componentDidMount() {\n    const { title, anime, type, number } = this.props;\n    const options = {\n      key: YOUTUBE_KEY.replace('lol', ''),\n      maxResults: 3,\n      type: 'video',\n      videoEmbeddable: true,\n    };\n    let strict = true;\n\n    // Search for the specific track title with artist\n    youtubeSearch(title, options)\n      .then(result => {\n        if (result.results.length) {\n          return result;\n        }\n\n        strict = false;\n\n        // Search for OP/ED\n        return youtubeSearch(`\"${anime.english}\" ${type} ${number}`, options);\n      })\n      .then(result => result.results)\n      .then(result => {\n        if (!strict) {\n          // Find video titles that contain the name of the specific anime\n          const matched = result.filter(\n            video =>\n              video.title.toLowerCase().includes(anime.english.toLowerCase()) ||\n              video.title.toLowerCase().includes(anime.japanese.toLowerCase()),\n          );\n\n          if (matched.length) {\n            return matched;\n          }\n\n          return [result[0]];\n        }\n\n        return result;\n      })\n      .then(result => {\n        // @Todo: Check that these words aren't actually in the anime title\n        const banned = ['remix', 'cover'];\n\n        return result.filter(\n          video =>\n            !banned.some(string => video.title.toLowerCase().includes(string)),\n        );\n      })\n      .then(result => {\n        this.setState({\n          tune: result[0],\n        });\n      });\n  }\n\n  createTuneObject() {\n    const { malId, image, anime, title } = this.props;\n    const { tune } = this.state;\n\n    return {\n      youtubeId: tune.id,\n      malId,\n      image,\n      anime: anime.english,\n      title,\n    };\n  }\n\n  handlePlayClick() {\n    const { addTune } = this.props;\n\n    addTune(this.createTuneObject(), true);\n  }\n\n  handleAddClick() {\n    const { addTune } = this.props;\n\n    addTune(this.createTuneObject());\n  }\n\n  render() {\n    const {\n      type,\n      number,\n      title,\n      queue,\n      loaded,\n      playing,\n      togglePlay,\n    } = this.props;\n    const { tune } = this.state;\n    const text = `${type}${number}: ${title}`;\n\n    if (!tune) {\n      return text;\n    }\n\n    return (\n      <Tune>\n        <Text title={tune.title}>{text}</Text>\n        <Buttons>\n          {(queue[0] && queue[0].youtubeId) === tune.id ? (\n            <PlayerPlayPauseButton\n              loaded={loaded}\n              playing={playing}\n              togglePlay={togglePlay}\n            />\n          ) : (\n            <Button aria-label=\"Play\" onClick={this.handlePlayClick}>\n              <FontAwesomeIcon icon={faPlay} />\n            </Button>\n          )}\n          <Button onClick={this.handleAddClick}>\n            <FontAwesomeIcon icon={faPlus} />\n          </Button>\n        </Buttons>\n      </Tune>\n    );\n  }\n}\nAnimeTune.propTypes = {\n  type: PropTypes.string.isRequired,\n  number: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  anime: PropTypes.shape().isRequired,\n  image: PropTypes.string.isRequired,\n  malId: PropTypes.number.isRequired,\n  queue: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  loaded: PropTypes.bool.isRequired,\n  playing: PropTypes.bool.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n  addTune: PropTypes.func.isRequired,\n};\n\nexport default AnimeTune;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport cleanTitle from './util/cleanTitle';\nimport AnimeTune from './AnimeTune';\n\nconst List = styled.ul`\n  padding-left: 0;\n  margin-bottom: 0.5rem;\n  list-style: none;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst Item = styled.li`\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid ${props => props.theme.grey};\n\n  &:last-child {\n    ${props => (props.type === 'ED' ? 'padding-bottom: 0' : '')};\n    ${props => (props.type === 'ED' ? 'border-bottom: 0' : '')};\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 0.5rem;\n  }\n`;\n\nfunction AnimeTunes({\n  type,\n  tunes,\n  anime,\n  image,\n  malId,\n  queue,\n  loaded,\n  playing,\n  togglePlay,\n  addTune,\n}) {\n  if (tunes.length) {\n    return (\n      <List>\n        {tunes.map((tune, index) => (\n          <Item key={tune} type={type}>\n            <AnimeTune\n              type={type}\n              number={index + 1}\n              title={cleanTitle(tune)}\n              anime={anime}\n              image={image}\n              malId={malId}\n              queue={queue}\n              loaded={loaded}\n              playing={playing}\n              togglePlay={togglePlay}\n              addTune={addTune}\n            />\n          </Item>\n        ))}\n      </List>\n    );\n  }\n\n  return <div>{`No ${type}s found.`}</div>;\n}\nAnimeTunes.propTypes = {\n  type: PropTypes.string.isRequired,\n  tunes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  anime: PropTypes.shape().isRequired,\n  image: PropTypes.string.isRequired,\n  malId: PropTypes.number.isRequired,\n  queue: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  loaded: PropTypes.bool.isRequired,\n  playing: PropTypes.bool.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n  addTune: PropTypes.func.isRequired,\n};\n\nexport default AnimeTunes;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport unescape from './util/unescape';\nimport AnimeTunes from './AnimeTunes';\n\nconst Article = styled.article`\n  display: flex;\n  align-items: flex-start;\n`;\n\nconst Data = styled.div`\n  margin-right: 1rem;\n`;\n\nconst Image = styled.img`\n  margin-bottom: 1rem;\n`;\n\nconst Info = styled.div`\n  flex-grow: 1;\n`;\n\nconst Tunes = styled.div`\n  padding: 1rem;\n  margin: 1rem 0;\n`;\n\nfunction AnimeInfo({\n  anime,\n  error,\n  queue,\n  loaded,\n  playing,\n  togglePlay,\n  addTune,\n}) {\n  if (error) {\n    return <div>{error.message}</div>;\n  }\n  if (anime) {\n    return (\n      <Article>\n        <Data>\n          <Image\n            src={anime.image_url}\n            alt={unescape(anime.title)}\n            width=\"225\"\n            height=\"311\"\n          />\n          <dl>\n            <dt>Type</dt>\n            <dd>{anime.type}</dd>\n            <dt>Episodes</dt>\n            <dd>{anime.episodes}</dd>\n            <dt>Status</dt>\n            <dd>{anime.status}</dd>\n            <dt>Aired</dt>\n            <dd>{anime.aired.string}</dd>\n          </dl>\n        </Data>\n        <Info>\n          <h2>{unescape(anime.title)}</h2>\n          <h3>{unescape(anime.title_japanese)}</h3>\n          <Tunes>\n            <h4>Tunes</h4>\n            <AnimeTunes\n              type=\"OP\"\n              tunes={anime.opening_themes}\n              anime={{ english: anime.title, japanese: anime.title_japanese }}\n              image={anime.image_url}\n              malId={anime.mal_id}\n              queue={queue}\n              loaded={loaded}\n              playing={playing}\n              togglePlay={togglePlay}\n              addTune={addTune}\n            />\n            <AnimeTunes\n              type=\"ED\"\n              tunes={anime.ending_themes}\n              anime={{ english: anime.title, japanese: anime.title_japanese }}\n              image={anime.image_url}\n              malId={anime.mal_id}\n              queue={queue}\n              loaded={loaded}\n              playing={playing}\n              togglePlay={togglePlay}\n              addTune={addTune}\n            />\n          </Tunes>\n          <p>\n            {unescape(anime.synopsis)\n              .replace('[Written by MAL Rewrite]', '')\n              .trim()}\n          </p>\n        </Info>\n      </Article>\n    );\n  }\n\n  return <div>Loading...</div>;\n}\nAnimeInfo.propTypes = {\n  error: PropTypes.shape(),\n  anime: PropTypes.shape(),\n  queue: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  loaded: PropTypes.bool.isRequired,\n  playing: PropTypes.bool.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n  addTune: PropTypes.func.isRequired,\n};\nAnimeInfo.defaultProps = {\n  error: null,\n  anime: null,\n};\n\nexport default AnimeInfo;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { JIKAN_BASE_URL } from './util/constants';\nimport AnimeInfo from './AnimeInfo';\n\nclass Anime extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      anime: null,\n    };\n\n    this.loadAnime = this.loadAnime.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadAnime();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { match } = this.props;\n\n    if (prevProps.match.params.mal_id !== match.params.mal_id) {\n      this.loadAnime();\n    }\n  }\n\n  loadAnime() {\n    const { match } = this.props;\n\n    this.setState({\n      anime: null,\n    });\n    fetch(`${JIKAN_BASE_URL}anime/${match.params.mal_id}`)\n      .then(res => res.json())\n      .then(\n        result => {\n          if ('error' in result) {\n            this.setState({\n              ...result,\n            });\n          } else {\n            this.setState({\n              anime: result,\n            });\n          }\n        },\n        error => {\n          this.setState({\n            error,\n          });\n        },\n      );\n  }\n\n  render() {\n    const { queue, loaded, playing, togglePlay, addTune } = this.props;\n    const { anime, error } = this.state;\n\n    return (\n      <AnimeInfo\n        anime={anime}\n        error={error}\n        queue={queue}\n        loaded={loaded}\n        playing={playing}\n        togglePlay={togglePlay}\n        addTune={addTune}\n      />\n    );\n  }\n}\nAnime.propTypes = {\n  match: PropTypes.shape().isRequired,\n  queue: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  loaded: PropTypes.bool.isRequired,\n  playing: PropTypes.bool.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n  addTune: PropTypes.func.isRequired,\n};\n\nexport default Anime;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport YouTube from 'react-youtube';\nimport ScreenReader from './theme/ScreenReader';\n\nclass PlayerAudio extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      audio: null,\n    };\n\n    this.handleReady = this.handleReady.bind(this);\n    this.handlePlay = this.handlePlay.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleStateChange = this.handleStateChange.bind(this);\n  }\n\n  componentDidUpdate() {\n    const { loaded, playing, progress, volume } = this.props;\n    const { audio } = this.state;\n\n    if (!audio || !loaded) return;\n\n    if (playing) {\n      audio.playVideo();\n    } else {\n      audio.pauseVideo();\n    }\n\n    if (progress.seek) {\n      audio.seekTo(progress.timePassed);\n    }\n\n    audio.setVolume(volume);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  handleReady(event) {\n    const audio = event.target;\n\n    this.setState({\n      audio,\n    });\n\n    // @Todo: Test this\n    audio.mute();\n    this.timer = setInterval(() => this.tick(), 100);\n  }\n\n  handlePlay() {\n    const { loaded, setProgress, updateAppState } = this.props;\n    const { audio } = this.state;\n\n    if (!loaded) {\n      audio.pauseVideo();\n      setProgress(0, true);\n      audio.unMute();\n      updateAppState({\n        loaded: true,\n      });\n    }\n  }\n\n  handleEnd() {\n    const { nextTune } = this.props;\n\n    nextTune();\n  }\n\n  handleStateChange(event) {\n    const { updateAppState, updateState } = this.props;\n    const duration = event.target.getDuration();\n\n    if (event.data === -1 || event.data === 5) {\n      updateAppState({\n        loaded: false,\n      });\n    }\n\n    if (duration) {\n      updateState({\n        duration,\n      });\n    }\n  }\n\n  tick() {\n    const { playing, setProgress } = this.props;\n    const { audio } = this.state;\n\n    if (playing) {\n      setProgress(audio.getCurrentTime(), false);\n    }\n  }\n\n  render() {\n    const { tune } = this.props;\n    const options = {\n      playerVars: {\n        autoplay: 1,\n      },\n    };\n\n    return (\n      <ScreenReader>\n        <YouTube\n          videoId={tune.youtubeId}\n          opts={options}\n          onReady={this.handleReady}\n          onPlay={this.handlePlay}\n          onEnd={this.handleEnd}\n          onStateChange={this.handleStateChange}\n        />\n      </ScreenReader>\n    );\n  }\n}\nPlayerAudio.propTypes = {\n  tune: PropTypes.shape().isRequired,\n  progress: PropTypes.shape({\n    timePassed: PropTypes.number.isRequired,\n    seek: PropTypes.bool.isRequired,\n  }).isRequired,\n  playing: PropTypes.bool.isRequired,\n  volume: PropTypes.number.isRequired,\n  loaded: PropTypes.bool.isRequired,\n  nextTune: PropTypes.func.isRequired,\n  updateAppState: PropTypes.func.isRequired,\n  updateState: PropTypes.func.isRequired,\n  setProgress: PropTypes.func.isRequired,\n};\n\nexport default PlayerAudio;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\nimport faStepBackward from '@fortawesome/fontawesome-free-solid/faStepBackward';\nimport faStepForward from '@fortawesome/fontawesome-free-solid/faStepForward';\nimport PlayerPlayPauseButton from './PlayerPlayPauseButton';\nimport Button from './theme/Button';\n\nconst Buttons = styled.div`\n  display: flex;\n  margin-right: 1rem;\n`;\n\nfunction PlayerButtons({\n  loaded,\n  playing,\n  previousTune,\n  togglePlay,\n  nextTune,\n}) {\n  return (\n    <Buttons>\n      <Button onClick={previousTune}>\n        <FontAwesomeIcon icon={faStepBackward} />\n      </Button>\n      <PlayerPlayPauseButton\n        loaded={loaded}\n        playing={playing}\n        togglePlay={togglePlay}\n      />\n      <Button onClick={nextTune}>\n        <FontAwesomeIcon icon={faStepForward} />\n      </Button>\n    </Buttons>\n  );\n}\n\nPlayerButtons.propTypes = {\n  loaded: PropTypes.bool.isRequired,\n  playing: PropTypes.bool.isRequired,\n  previousTune: PropTypes.func.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n  nextTune: PropTypes.func.isRequired,\n};\n\nexport default PlayerButtons;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst Timeline = styled.div`\n  display: flex;\n  flex-grow: 1;\n  margin-right: 1rem;\n`;\n\nconst Time = styled.span`\n  width: 37px;\n  font-size: 0.8rem;\n  text-align: center;\n\n  &:first-child {\n    margin-right: 0.5rem;\n  }\n\n  &:last-child {\n    margin-left: 0.5rem;\n  }\n`;\n\nconst Range = styled.input`\n  flex-grow: 1;\n`;\n\nclass PlayerTimeline extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      prevPlaying: null,\n    };\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n  }\n\n  handleMouseDown() {\n    const { playing, pauseTune } = this.props;\n\n    this.setState({\n      prevPlaying: playing,\n    });\n\n    pauseTune();\n  }\n\n  handleChange(event) {\n    const { setProgress } = this.props;\n\n    setProgress(parseInt(event.target.value, 10), true);\n  }\n\n  handleMouseUp() {\n    const { playTune } = this.props;\n    const { prevPlaying } = this.state;\n\n    if (prevPlaying) {\n      playTune();\n    }\n  }\n\n  render() {\n    const { progress, duration, loaded } = this.props;\n    const formatTime = time =>\n      new Date(time * 1000).toISOString().substr(14, 5);\n\n    return (\n      <Timeline>\n        <Time>{formatTime(progress.timePassed)}</Time>\n        <Range\n          type=\"range\"\n          value={progress.timePassed}\n          min=\"0\"\n          max={duration}\n          disabled={!loaded}\n          onMouseDown={this.handleMouseDown}\n          onChange={this.handleChange}\n          onMouseUp={this.handleMouseUp}\n        />\n        <Time>{formatTime(duration)}</Time>\n      </Timeline>\n    );\n  }\n}\nPlayerTimeline.propTypes = {\n  progress: PropTypes.shape({\n    timePassed: PropTypes.number.isRequired,\n    seek: PropTypes.bool.isRequired,\n  }).isRequired,\n  duration: PropTypes.number,\n  loaded: PropTypes.bool.isRequired,\n  playing: PropTypes.bool.isRequired,\n  setProgress: PropTypes.func.isRequired,\n  playTune: PropTypes.func.isRequired,\n  pauseTune: PropTypes.func.isRequired,\n};\nPlayerTimeline.defaultProps = {\n  duration: null,\n};\n\nexport default PlayerTimeline;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\nimport faVolumeUp from '@fortawesome/fontawesome-free-solid/faVolumeUp';\nimport faVolumeDown from '@fortawesome/fontawesome-free-solid/faVolumeDown';\nimport faVolumeOff from '@fortawesome/fontawesome-free-solid/faVolumeOff';\nimport Button from './theme/Button';\n\nconst VolumeControls = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: 823px) {\n    margin-right: 1rem;\n  }\n`;\n\nconst VolumeSliderPanel = styled.div`\n  position: absolute;\n  top: -129px;\n  left: calc(50% - 22px);\n  display: ${props => (props.hovering ? 'flex' : 'none')};\n  align-items: center;\n  height: 44px;\n  padding: 0.5rem;\n  background-color: #fff;\n  border-top: 1px solid ${props => props.theme.primary};\n  border-bottom: 1px solid ${props => props.theme.primary};\n  border-right: 1px solid ${props => props.theme.primary};\n  transform: rotate(-90deg);\n  transform-origin: 64.5px 64.5px;\n`;\n\nconst VolumeSlider = styled.input`\n  width: 129px;\n`;\n\nconst VolumeButton = Button.extend`\n  width: 44px;\n`;\n\nclass PlayerVolume extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovering: false,\n    };\n\n    this.handleMouseEnter = this.handleMouseEnter.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleMouseEnter() {\n    this.setState({\n      hovering: true,\n    });\n  }\n\n  handleMouseLeave() {\n    this.setState({\n      hovering: false,\n    });\n  }\n\n  handleChange(event) {\n    const { setVolume } = this.props;\n\n    setVolume(parseInt(event.target.value, 10));\n  }\n\n  handleClick() {\n    const { toggleMute } = this.props;\n\n    toggleMute();\n  }\n\n  render() {\n    const { volume } = this.props;\n    const { hovering } = this.state;\n    let icon = faVolumeUp;\n\n    if (volume < 50) {\n      icon = faVolumeDown;\n    }\n\n    if (volume === 0) {\n      icon = faVolumeOff;\n    }\n\n    return (\n      <VolumeControls\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        <VolumeSliderPanel hovering={hovering}>\n          <VolumeSlider\n            type=\"range\"\n            value={volume}\n            min=\"0\"\n            max=\"100\"\n            onChange={this.handleChange}\n          />\n        </VolumeSliderPanel>\n        <VolumeButton onClick={this.handleClick}>\n          <FontAwesomeIcon icon={icon} />\n        </VolumeButton>\n      </VolumeControls>\n    );\n  }\n}\nPlayerVolume.propTypes = {\n  volume: PropTypes.number.isRequired,\n  setVolume: PropTypes.func.isRequired,\n  toggleMute: PropTypes.func.isRequired,\n};\n\nexport default PlayerVolume;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\nimport faList from '@fortawesome/fontawesome-free-solid/faList';\nimport Button from './theme/Button';\n\nclass QueueButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const { buttonClick } = this.props;\n\n    buttonClick();\n  }\n\n  render() {\n    const { open } = this.props;\n\n    return (\n      <Button\n        onClick={this.handleClick}\n        aria-label={open ? 'Close queue' : 'Open queue'}\n      >\n        <FontAwesomeIcon icon={faList} />\n      </Button>\n    );\n  }\n}\nQueueButton.propTypes = {\n  open: PropTypes.bool.isRequired,\n  buttonClick: PropTypes.func.isRequired,\n};\n\nexport default QueueButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\nimport faPlay from '@fortawesome/fontawesome-free-solid/faPlay';\nimport faTrash from '@fortawesome/fontawesome-free-solid/faTrash';\nimport PlayerPlayPauseButton from './PlayerPlayPauseButton';\nimport Button from './theme/Button';\n\nconst Buttons = styled.div`\n  margin-left: 0.5rem;\n`;\n\nclass QueueItemControls extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.handleSkipClick = this.handleSkipClick.bind(this);\n    this.handleRemoveClick = this.handleRemoveClick.bind(this);\n  }\n\n  handleSkipClick() {\n    const { skipToTune, id } = this.props;\n\n    skipToTune(id);\n  }\n\n  handleRemoveClick() {\n    const { removeTune, id } = this.props;\n\n    removeTune(id);\n  }\n\n  render() {\n    const { first, loaded, playing, togglePlay } = this.props;\n\n    return (\n      <Buttons>\n        {first ? (\n          <PlayerPlayPauseButton\n            loaded={loaded}\n            playing={playing}\n            togglePlay={togglePlay}\n          />\n        ) : (\n          <Button aria-label=\"Play\" onClick={this.handleSkipClick}>\n            <FontAwesomeIcon icon={faPlay} />\n          </Button>\n        )}\n        <Button aria-label=\"Remove\" onClick={this.handleRemoveClick}>\n          <FontAwesomeIcon icon={faTrash} />\n        </Button>\n      </Buttons>\n    );\n  }\n}\nQueueItemControls.propTypes = {\n  id: PropTypes.string.isRequired,\n  first: PropTypes.bool.isRequired,\n  loaded: PropTypes.bool.isRequired,\n  playing: PropTypes.bool.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n  removeTune: PropTypes.func.isRequired,\n  skipToTune: PropTypes.func.isRequired,\n};\n\nexport default QueueItemControls;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport unescape from './util/unescape';\nimport QueueItemControls from './QueueItemControls';\n\nconst Item = styled.div`\n  display: ${props => (props.single ? 'none' : 'flex')};\n  align-items: center;\n\n  @media (min-width: 823px) {\n    display: flex;\n  }\n`;\n\nconst Image = styled.img`\n  margin-right: 0.5rem;\n  object-fit: cover;\n`;\n\nconst Text = styled.div`\n  width: 240px;\n  overflow: hidden;\n  font-size: 0.8rem;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nfunction QueueItem({\n  tune,\n  first,\n  loaded,\n  playing,\n  controls,\n  togglePlay,\n  removeTune,\n  skipToTune,\n}) {\n  return (\n    <Item single={!controls}>\n      <Image src={tune.image} alt={tune.anime} width=\"38\" height=\"38\" />\n      <div>\n        <Text>\n          <Link to={`/anime/${tune.malId}`}>{unescape(tune.anime)}</Link>\n        </Text>\n        <Text title={unescape(tune.title)}>{unescape(tune.title)}</Text>\n      </div>\n      {controls && (\n        <QueueItemControls\n          id={tune.id}\n          first={first}\n          loaded={loaded}\n          playing={playing}\n          togglePlay={togglePlay}\n          removeTune={removeTune}\n          skipToTune={skipToTune}\n        />\n      )}\n    </Item>\n  );\n}\nQueueItem.propTypes = {\n  controls: PropTypes.bool,\n  tune: PropTypes.shape(),\n  first: PropTypes.bool,\n  loaded: PropTypes.bool,\n  playing: PropTypes.bool,\n  togglePlay: PropTypes.func,\n  removeTune: PropTypes.func,\n  skipToTune: PropTypes.func,\n};\nQueueItem.defaultProps = {\n  controls: false,\n  tune: {\n    image: 'http://via.placeholder.com/38x38',\n    anime: '',\n    title: 'Nothing playing',\n  },\n  first: false,\n  loaded: null,\n  playing: null,\n  togglePlay: null,\n  removeTune: null,\n  skipToTune: null,\n};\n\nexport default QueueItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport QueueButton from './QueueButton';\nimport QueueItem from './QueueItem';\n\nconst Container = styled.div`\n  position: relative;\n  margin-left: 1rem;\n`;\n\nconst List = styled.ul`\n  position: fixed;\n  right: 0;\n  bottom: 71px;\n  z-index: -1;\n  display: ${props => (props.open ? 'block' : 'none')};\n  height: 239px;\n  padding: 0;\n  margin-bottom: 0;\n  overflow-y: scroll;\n  list-style: none;\n  background-color: #fff;\n  border: 1px solid ${props => props.theme.primary};\n  border-bottom: 0;\n`;\n\nconst Item = styled.li`\n  margin: 0.5rem;\n\n  &:first-child {\n    font-weight: bold;\n  }\n`;\n\nclass Queue extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n\n    this.buttonClick = this.buttonClick.bind(this);\n  }\n\n  buttonClick() {\n    const { open } = this.state;\n\n    this.setState({\n      open: !open,\n    });\n  }\n\n  render() {\n    const {\n      queue,\n      loaded,\n      playing,\n      togglePlay,\n      removeTune,\n      skipToTune,\n    } = this.props;\n    const { open } = this.state;\n\n    return (\n      <Container>\n        <QueueButton open={open} buttonClick={this.buttonClick} />\n        <List open={open}>\n          {queue.map((tune, index) => (\n            <Item key={tune.id}>\n              <QueueItem\n                controls\n                tune={tune}\n                first={index === 0}\n                loaded={loaded}\n                playing={playing}\n                togglePlay={togglePlay}\n                removeTune={removeTune}\n                skipToTune={skipToTune}\n              />\n            </Item>\n          ))}\n        </List>\n      </Container>\n    );\n  }\n}\nQueue.propTypes = {\n  loaded: PropTypes.bool.isRequired,\n  queue: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  playing: PropTypes.bool.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n  removeTune: PropTypes.func.isRequired,\n  skipToTune: PropTypes.func.isRequired,\n};\n\nexport default Queue;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport PlayerAudio from './PlayerAudio';\nimport PlayerButtons from './PlayerButtons';\nimport PlayerTimeline from './PlayerTimeline';\nimport PlayerVolume from './PlayerVolume';\nimport Queue from './Queue';\nimport QueueItem from './QueueItem';\n\nconst PlayerControls = styled.div`\n  position: fixed;\n  right: 0;\n  bottom: ${props => (props.show ? '0' : '-71px')};\n  left: 0;\n  display: flex;\n  align-items: center;\n  height: 71px;\n  padding: 1rem;\n  background-color: #fff;\n  border-top: 1px solid ${props => props.theme.primary};\n  transition: bottom 0.34s ease;\n`;\n\nclass Player extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      progress: {\n        timePassed: 0,\n        seek: false,\n      },\n      duration: null,\n      volume: 100,\n      prevVolume: null,\n    };\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.updateState = this.updateState.bind(this);\n    this.setProgress = this.setProgress.bind(this);\n    this.setVolume = this.setVolume.bind(this);\n    this.toggleMute = this.toggleMute.bind(this);\n    this.rewind = this.rewind.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  setProgress(timePassed = 0, seek) {\n    this.setState({\n      progress: {\n        timePassed,\n        seek,\n      },\n    });\n  }\n\n  setVolume(volume) {\n    const { volume: prevVolume } = this.state;\n\n    this.setState({\n      prevVolume,\n    });\n    this.setState({\n      volume,\n    });\n  }\n\n  updateState(state) {\n    this.setState(state);\n  }\n\n  toggleMute() {\n    const { volume, prevVolume } = this.state;\n\n    if (volume > 0) {\n      this.setVolume(0);\n    } else {\n      this.setVolume(prevVolume);\n    }\n  }\n\n  handleKeyDown(event) {\n    const { inputFocused, togglePlay } = this.props;\n\n    if (inputFocused) return;\n\n    if (event.code === 'Space' || event.code === 'KeyK') {\n      togglePlay();\n      event.preventDefault();\n    } else if (event.code === 'KeyM') {\n      this.toggleMute();\n      event.preventDefault();\n    }\n  }\n\n  rewind() {\n    const { history, previousTune } = this.props;\n    const { progress } = this.state;\n\n    if (progress.timePassed > 5 || !history.length) {\n      this.setState({\n        progress: {\n          timePassed: 0,\n          seek: true,\n        },\n      });\n    } else {\n      previousTune();\n    }\n  }\n\n  render() {\n    const {\n      queue,\n      loaded,\n      playing,\n      nextTune,\n      updateAppState,\n      togglePlay,\n      playTune,\n      pauseTune,\n      removeTune,\n      skipToTune,\n    } = this.props;\n    const { progress, volume, duration, prevVolume } = this.state;\n    const tune = queue[0];\n\n    return (\n      <PlayerControls show={!!tune}>\n        {tune && (\n          <Fragment>\n            <PlayerAudio\n              tune={tune}\n              progress={progress}\n              volume={volume}\n              loaded={loaded}\n              playing={playing}\n              nextTune={nextTune}\n              updateAppState={updateAppState}\n              audioReady={this.audioReady}\n              updateState={this.updateState}\n              setProgress={this.setProgress}\n            />\n            <PlayerButtons\n              loaded={loaded}\n              playing={playing}\n              progress={progress}\n              audioReady={this.audioReady}\n              previousTune={this.rewind}\n              togglePlay={togglePlay}\n              nextTune={nextTune}\n            />\n            <PlayerTimeline\n              progress={progress}\n              duration={duration}\n              loaded={loaded}\n              playing={playing}\n              setProgress={this.setProgress}\n              playTune={playTune}\n              pauseTune={pauseTune}\n            />\n            <PlayerVolume\n              volume={volume}\n              prevVolume={prevVolume}\n              setVolume={this.setVolume}\n              toggleMute={this.toggleMute}\n            />\n            <QueueItem tune={tune} />\n            <Queue\n              loaded={loaded}\n              queue={queue}\n              playing={playing}\n              togglePlay={togglePlay}\n              removeTune={removeTune}\n              skipToTune={skipToTune}\n            />\n          </Fragment>\n        )}\n      </PlayerControls>\n    );\n  }\n}\nPlayer.propTypes = {\n  queue: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  history: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  playing: PropTypes.bool.isRequired,\n  loaded: PropTypes.bool.isRequired,\n  updateAppState: PropTypes.func.isRequired,\n  inputFocused: PropTypes.bool.isRequired,\n  removeTune: PropTypes.func.isRequired,\n  playTune: PropTypes.func.isRequired,\n  pauseTune: PropTypes.func.isRequired,\n  togglePlay: PropTypes.func.isRequired,\n  skipToTune: PropTypes.func.isRequired,\n  previousTune: PropTypes.func.isRequired,\n  nextTune: PropTypes.func.isRequired,\n};\n\nexport default Player;\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Route } from 'react-router-dom';\nimport styled, { ThemeProvider } from 'styled-components';\nimport veryUniqueId from './util/veryUniqueId';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Home from './Home';\nimport Results from './Results';\nimport Anime from './Anime';\nimport Player from './Player';\n\nconst theme = {\n  grey: '#d2d2d2',\n  black: '#212529',\n  primary: '#e48d9c',\n  inputPaddingY: '.375rem',\n  inputPaddingX: '.75rem',\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  min-height: 100%;\n  padding-bottom: ${props => (props.controlsOpen ? '71px' : '0')};\n  transition: padding-bottom 0.35s ease;\n`;\n\nconst Main = styled.section`\n  flex-grow: 1;\n  padding: 1rem;\n`;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      results: [],\n      queue: [],\n      history: [],\n      playing: false,\n      loaded: false,\n      inputFocused: false,\n    };\n\n    this.hydrateState = this.hydrateState.bind(this);\n    this.updateState = this.updateState.bind(this);\n    this.saveState = this.saveState.bind(this);\n    this.addTune = this.addTune.bind(this);\n    this.removeTune = this.removeTune.bind(this);\n    this.playTune = this.playTune.bind(this);\n    this.pauseTune = this.pauseTune.bind(this);\n    this.togglePlay = this.togglePlay.bind(this);\n    this.skipToTune = this.skipToTune.bind(this);\n    this.previousTune = this.previousTune.bind(this);\n    this.nextTune = this.nextTune.bind(this);\n  }\n\n  componentDidMount() {\n    this.hydrateState();\n    window.addEventListener('beforeunload', this.saveState);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('beforeunload', this.saveState);\n    this.saveState();\n  }\n\n  hydrateState() {\n    const queue = JSON.parse(localStorage.getItem('queue')) || [];\n    const history = JSON.parse(localStorage.getItem('history')) || [];\n\n    this.setState({\n      queue,\n      history,\n    });\n  }\n\n  updateState(state) {\n    this.setState(state);\n  }\n\n  saveState() {\n    const { queue, history } = this.state;\n\n    localStorage.setItem('queue', JSON.stringify(queue));\n    localStorage.setItem('history', JSON.stringify(history.slice(0, 20)));\n  }\n\n  addTune(tune, play) {\n    const { queue, history, playing } = this.state;\n    const queueIds = queue.map(queueTune => queueTune.id);\n    const historyIds = history.map(historyTune => historyTune.id);\n    const id = veryUniqueId([...queueIds, ...historyIds], 'queue');\n\n    if (play) {\n      if (playing) {\n        this.setState({\n          queue: [{ ...tune, id }, ...queue.slice(1)],\n          playing: true,\n          history: [queue[0], ...history],\n        });\n      } else {\n        this.setState({\n          queue: [{ ...tune, id }, ...queue],\n          playing: true,\n        });\n      }\n    } else {\n      this.setState({\n        queue: [...queue, { ...tune, id }],\n      });\n    }\n  }\n\n  removeTune(id) {\n    const { queue, playing } = this.state;\n\n    this.setState({\n      queue: queue.filter(tune => tune.id !== id),\n      playing: queue.length === 1 ? false : playing,\n    });\n  }\n\n  playTune() {\n    this.setState({\n      playing: true,\n    });\n  }\n\n  pauseTune() {\n    this.setState({\n      playing: false,\n    });\n  }\n\n  togglePlay() {\n    const { playing } = this.state;\n\n    if (playing) {\n      this.pauseTune();\n    } else {\n      this.playTune();\n    }\n  }\n\n  skipToTune(id) {\n    const { queue, history } = this.state;\n    const index = queue.findIndex(tune => tune.id === id);\n\n    this.setState({\n      queue: queue.filter((tune, i) => i >= index),\n      playing: true,\n      history: [queue[0], ...history],\n    });\n  }\n\n  previousTune() {\n    const { queue, history } = this.state;\n\n    this.setState({\n      queue: [history[0], ...queue],\n      history: history.slice(1),\n    });\n  }\n\n  // @Todo: If no tune in queue then pick a tune further down the page\n  nextTune() {\n    const { queue, history, playing } = this.state;\n\n    this.setState({\n      queue: queue.slice(1),\n      playing: queue.length === 1 ? false : playing,\n      history: [queue[0], ...history],\n    });\n  }\n\n  render() {\n    const {\n      queue,\n      error,\n      results,\n      loaded,\n      playing,\n      history,\n      inputFocused,\n    } = this.state;\n\n    return (\n      <Router>\n        <ThemeProvider theme={theme}>\n          <Container className=\"App\" controlsOpen={queue.length > 0}>\n            <Header updateState={this.updateState} />\n            <Main>\n              <Route exact path=\"/\" component={Home} />\n              <Route\n                path=\"/results\"\n                render={props => (\n                  <Results {...props} error={error} results={results} />\n                )}\n              />\n              <Route\n                path=\"/anime/:mal_id\"\n                render={props => (\n                  <Anime\n                    {...props}\n                    queue={queue}\n                    loaded={loaded}\n                    playing={playing}\n                    togglePlay={this.togglePlay}\n                    addTune={this.addTune}\n                  />\n                )}\n              />\n              <Player\n                queue={queue}\n                history={history}\n                playing={playing}\n                loaded={loaded}\n                inputFocused={inputFocused}\n                updateAppState={this.updateState}\n                removeTune={this.removeTune}\n                playTune={this.playTune}\n                pauseTune={this.pauseTune}\n                togglePlay={this.togglePlay}\n                skipToTune={this.skipToTune}\n                previousTune={this.previousTune}\n                nextTune={this.nextTune}\n              />\n            </Main>\n            <Footer />\n          </Container>\n        </ThemeProvider>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ',\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport { injectGlobal } from 'styled-components';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\ninjectGlobal([\n  `\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n\n  body {\n    min-width: 808px;\n    overflow-y: scroll;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    font-size: 1rem;\n    line-height: 1.5;\n  }\n\n  h1, h2, h3, h4, h5, h6 {\n    margin-top 0;\n    margin-bottom: .5rem;\n  }\n\n  p {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ol,\n  ul,\n  dl {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ol ol,\n  ul ul,\n  ol ul,\n  ul ol {\n    margin-bottom: 0;\n  }\n\n  dt {\n    font-weight: 700;\n  }\n\n  dd {\n    margin-bottom: .5rem;\n    margin-left: 0;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  img {\n    vertical-align: middle;\n  }\n\n  label {\n    display: inline-block;\n    margin-bottom: .5rem;\n  }\n\n  input,\n  button,\n  select,\n  optgroup,\n  textarea {\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n`,\n]);\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","module.exports = __webpack_public_path__ + \"static/media/nonon.03621a22.mp4\";","module.exports = __webpack_public_path__ + \"static/media/nonon.13dbfca8.webm\";"],"sourceRoot":""}