(window.webpackJsonpanime=window.webpackJsonpanime||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(36),o=n.n(i),l=(n(60),n(2)),u=n(17),c=n(13),s=n(5),d=n(6),p=n(8),h=n(7),m=n(4),f=n(9),g=n(3),b=n(114),v=n(113),y=n(40),O=n.n(y);var j=function e(t,n){var a=O()(n);return t.includes(a)?e(t,n):a},k=n(112),E=n(116);function w(){var e=Object(g.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n"]);return w=function(){return e},e}var S=l.b.span(w());function P(){var e=Object(g.a)(["\n  display: block;\n  width: 100%;\n  padding-top: ",";\n  padding-right: ",";\n  padding-bottom: ",";\n  padding-left: ",";\n  border: 1px solid ",";\n"]);return P=function(){return e},e}var T=l.b.input(P(),function(e){return e.theme.inputPaddingY},function(e){return e.theme.inputPaddingX},function(e){return e.theme.inputPaddingY},function(e){return e.theme.inputPaddingX},function(e){return e.theme.grey});function x(){var e=Object(g.a)(["\n  display: inline-block;\n  min-width: 42px;\n  padding-top: ",";\n  padding-right: ",";\n  padding-bottom: ",";\n  padding-left: ",";\n  cursor: pointer;\n  user-select: none;\n  background: #fff;\n  border: 1px solid ",";\n\n  & + & {\n    border-left: 0;\n  }\n\n  &:hover {\n    background-color: #f5f5f5;\n  }\n"]);return x=function(){return e},e}var C=l.b.button(x(),function(e){return e.theme.inputPaddingY},function(e){return e.theme.inputPaddingX},function(e){return e.theme.inputPaddingY},function(e){return e.theme.inputPaddingX},function(e){return e.theme.grey});function D(){var e=Object(g.a)(["\n  border-right: 0;\n"]);return D=function(){return e},e}function q(){var e=Object(g.a)(["\n  flex-grow: 1;\n  margin-bottom: 0;\n"]);return q=function(){return e},e}function M(){var e=Object(g.a)(["\n  display: flex;\n  flex-grow: 1;\n  margin-left: 1rem;\n"]);return M=function(){return e},e}var I=l.b.form(M()),A=l.b.label(q()),V=T.extend(D()),L=function(e){function t(e){var n;Object(s.a)(this,t);var a=(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).props.location;return n.state={value:decodeURI(a.search.replace("?search=",""))},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleFocus=n.handleFocus.bind(Object(m.a)(n)),n.handleBlur=n.handleBlur.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.search)(this.state.value)}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleFocus",value:function(){(0,this.props.updateState)({inputFocused:!0})}},{key:"handleBlur",value:function(){(0,this.props.updateState)({inputFocused:!1})}},{key:"handleSubmit",value:function(e){(0,this.props.search)(this.state.value),e.preventDefault()}},{key:"render",value:function(){var e=this.state.value;return r.a.createElement(I,{onSubmit:this.handleSubmit},r.a.createElement(A,{htmlFor:"search"},r.a.createElement(S,null,"Search"),r.a.createElement(V,{id:"search",type:"text",value:e,placeholder:"Name of anime",onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur})),r.a.createElement(C,{type:"submit"},"Submit"))}}]),t}(a.Component),R=Object(E.a)(L);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var U=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).search=n.search.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"search",value:function(e){var t=this.props,n=t.updateState,a=t.history,r=e.trim();r&&(r.length<3?n({error:{message:"Search must be more than three characters."}}):(n({results:[]}),fetch("".concat("https://api.jikan.moe/v3/","search/anime?q=").concat(r)).then(function(e){return e.json()}).then(function(e){var t={results:e.results};"error"in e&&(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)),n(t)},function(e){n({error:e})}),a.push("/results?search=".concat(r))))}},{key:"render",value:function(){var e=this.props.updateState;return r.a.createElement(R,{search:this.search,updateState:e})}}]),t}(a.Component),F=Object(E.a)(U);function N(){var e=Object(g.a)(["\n  margin: 0;\n  font-size: 1rem;\n"]);return N=function(){return e},e}function W(){var e=Object(g.a)(["\n  position: sticky;\n  top: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  background-color: #fff;\n  border-bottom: 1px solid ",";\n"]);return W=function(){return e},e}var B=l.b.header(W(),function(e){return e.theme.primary}),J=l.b.h1(N());var z=function(e){var t=e.updateState;return r.a.createElement(B,null,r.a.createElement(k.a,{to:"/"},r.a.createElement(J,null,"op-ed")),r.a.createElement(F,{updateState:t}))};function K(){var e=Object(g.a)(["\n  margin-bottom: 0;\n  text-align: right;\n"]);return K=function(){return e},e}function Y(){var e=Object(g.a)(["\n  padding: 1rem;\n"]);return Y=function(){return e},e}var X=l.b.footer(Y()),Q=l.b.p(K());var H=function(){return r.a.createElement(X,null,r.a.createElement(Q,null,"\xa9"," ",r.a.createElement("a",{href:"https://github.com/jamesxoxo/",target:"_blank",rel:"noopener noreferrer"},"James Coventry")))},$=n(41),G=n.n($),Z=n(42),ee=n.n(Z);function te(){var e=Object(g.a)(["\n  display: block;\n  max-width: 100%;\n  height: auto;\n"]);return te=function(){return e},e}var ne=l.b.video(te());var ae=function(){return r.a.createElement("article",null,r.a.createElement("h1",null,"Welcome"),r.a.createElement("p",null,"This website is to help you listen to anime opening/ending songs. Use the search box above to get started."),r.a.createElement("p",null,r.a.createElement(ne,{width:"500",height:"280",autoPlay:!0,loop:!0,muted:!0},r.a.createElement("source",{src:G.a,type:"video/mp4"}),r.a.createElement("source",{src:ee.a,type:"video/webm"}))),r.a.createElement("p",null,"It relies on the MAL API so if that goes down this goes down."))},re=n(115),ie={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#039;":"'"},oe=/&(?:amp|lt|gt|quot|#39|#039);/g,le=RegExp(oe.source);var ue=function(e){return e&&le.test(e)?e.replace(oe,function(e){return ie[e]}):e};function ce(){var e=Object(g.a)(["\n  margin-right: 0.5rem;\n  object-fit: cover;\n"]);return ce=function(){return e},e}var se=l.b.img(ce());var de=function(e){var t=e.anime;return r.a.createElement(k.a,{to:"/anime/".concat(t.mal_id)},r.a.createElement(se,{src:t.image_url,alt:t.title,width:"30",height:"30"}),ue(t.title))};function pe(){var e=Object(g.a)(["\n  &:not(:last-child) {\n    margin-bottom: 0.5rem;\n  }\n"]);return pe=function(){return e},e}function he(){var e=Object(g.a)(["\n  padding-left: 0;\n  list-style: none;\n"]);return he=function(){return e},e}var me=l.b.ul(he()),fe=l.b.li(pe());var ge=function(e){var t=e.results;return r.a.createElement(me,null,t.map(function(e){return r.a.createElement(fe,{key:e.mal_id},r.a.createElement(de,{anime:e}))}))};function be(e){var t=e.error,n=e.results,a=e.location;return t?r.a.createElement("div",null,t.message):n.length?r.a.createElement(ge,{results:n}):a.search?r.a.createElement("div",null,"Loading..."):r.a.createElement(re.a,{to:"/"})}be.defaultProps={error:null};var ve=be;var ye=function(e){return ue(e).replace(/#[0-9]+:? /,"").replace(/\(TV Broadcast[:;]?.*?\)/i,"").replace(/\(((TV|BD\/DVD): )?eps? .*?\)/i,"").replace(/\(Japanese version.*\)/i,"").trim()},Oe=n(27),je=n.n(Oe),ke=n(10),Ee=n(18),we=n.n(Ee),Se=n(43),Pe=n.n(Se),Te=n(44),xe=n.n(Te),Ce=n(28),De=n.n(Ce),qe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleClick",value:function(){(0,this.props.togglePlay)()}},{key:"render",value:function(){var e=this.props,t=e.playing,n=e.loaded,a=t?xe.a:we.a;return n||(a=De.a),r.a.createElement(C,{onClick:this.handleClick,"aria-label":t?"Pause":"Play"},r.a.createElement(ke.a,{icon:a,pulse:a===De.a}))}}]),t}(a.Component);function Me(){var e=Object(g.a)(["\n  display: flex;\n  margin-left: 0.5rem;\n"]);return Me=function(){return e},e}function Ie(){var e=Object(g.a)(["\n  flex-grow: 1;\n"]);return Ie=function(){return e},e}function Ae(){var e=Object(g.a)(["\n  display: flex;\n  flex-wrap: none;\n  align-items: center;\n"]);return Ae=function(){return e},e}var Ve=l.b.div(Ae()),Le=l.b.span(Ie()),Re=l.b.span(Me()),_e=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={tune:null},n.createTuneObject=n.createTuneObject.bind(Object(m.a)(n)),n.handleAddClick=n.handleAddClick.bind(Object(m.a)(n)),n.handlePlayClick=n.handlePlayClick.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.title,a=t.anime,r=t.type,i=t.number,o={key:"AIzaSyDNS7Q_55JVp_k2lS85S36OIN1WuawqY84",maxResults:3,type:"video",videoEmbeddable:!0},l=!0;je()(n,o).then(function(e){return e.results.length?e:(l=!1,je()('"'.concat(a.english,'" ').concat(r," ").concat(i),o))}).then(function(e){return e.results}).then(function(e){if(!l){var t=e.filter(function(e){return e.title.toLowerCase().includes(a.english.toLowerCase())||e.title.toLowerCase().includes(a.japanese.toLowerCase())});return t.length?t:[e[0]]}return e}).then(function(e){var t=["remix","cover"];return e.filter(function(e){return!t.some(function(t){return e.title.toLowerCase().includes(t)})})}).then(function(t){e.setState({tune:t[0]})})}},{key:"createTuneObject",value:function(){var e=this.props,t=e.malId,n=e.image,a=e.anime,r=e.title;return{youtubeId:this.state.tune.id,malId:t,image:n,anime:a.english,title:r}}},{key:"handlePlayClick",value:function(){(0,this.props.addTune)(this.createTuneObject(),!0)}},{key:"handleAddClick",value:function(){(0,this.props.addTune)(this.createTuneObject())}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.number,a=e.title,i=e.queue,o=e.loaded,l=e.playing,u=e.togglePlay,c=this.state.tune,s="".concat(t).concat(n,": ").concat(a);return c?r.a.createElement(Ve,null,r.a.createElement(Le,{title:c.title},s),r.a.createElement(Re,null,(i[0]&&i[0].youtubeId)===c.id?r.a.createElement(qe,{loaded:o,playing:l,togglePlay:u}):r.a.createElement(C,{"aria-label":"Play",onClick:this.handlePlayClick},r.a.createElement(ke.a,{icon:we.a})),r.a.createElement(C,{onClick:this.handleAddClick},r.a.createElement(ke.a,{icon:Pe.a})))):s}}]),t}(a.Component);function Ue(){var e=Object(g.a)(["\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid ",";\n\n  &:last-child {\n    ",";\n    ",";\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 0.5rem;\n  }\n"]);return Ue=function(){return e},e}function Fe(){var e=Object(g.a)(["\n  padding-left: 0;\n  margin-bottom: 0.5rem;\n  list-style: none;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]);return Fe=function(){return e},e}var Ne=l.b.ul(Fe()),We=l.b.li(Ue(),function(e){return e.theme.grey},function(e){return"ED"===e.type?"padding-bottom: 0":""},function(e){return"ED"===e.type?"border-bottom: 0":""});var Be=function(e){var t=e.type,n=e.tunes,a=e.anime,i=e.image,o=e.malId,l=e.queue,u=e.loaded,c=e.playing,s=e.togglePlay,d=e.addTune;return n.length?r.a.createElement(Ne,null,n.map(function(e,n){return r.a.createElement(We,{key:e,type:t},r.a.createElement(_e,{type:t,number:n+1,title:ye(e),anime:a,image:i,malId:o,queue:l,loaded:u,playing:c,togglePlay:s,addTune:d}))})):r.a.createElement("div",null,"No ".concat(t,"s found."))};function Je(){var e=Object(g.a)(["\n  padding: 1rem;\n  margin: 1rem 0;\n"]);return Je=function(){return e},e}function ze(){var e=Object(g.a)(["\n  flex-grow: 1;\n"]);return ze=function(){return e},e}function Ke(){var e=Object(g.a)(["\n  margin-bottom: 1rem;\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(g.a)(["\n  margin-right: 1rem;\n"]);return Ye=function(){return e},e}function Xe(){var e=Object(g.a)(["\n  display: flex;\n  align-items: flex-start;\n"]);return Xe=function(){return e},e}var Qe=l.b.article(Xe()),He=l.b.div(Ye()),$e=l.b.img(Ke()),Ge=l.b.div(ze()),Ze=l.b.div(Je());function et(e){var t=e.anime,n=e.error,a=e.queue,i=e.loaded,o=e.playing,l=e.togglePlay,u=e.addTune;return n?r.a.createElement("div",null,n.message):t?r.a.createElement(Qe,null,r.a.createElement(He,null,r.a.createElement($e,{src:t.image_url,alt:ue(t.title),width:"225",height:"311"}),r.a.createElement("dl",null,r.a.createElement("dt",null,"Type"),r.a.createElement("dd",null,t.type),r.a.createElement("dt",null,"Episodes"),r.a.createElement("dd",null,t.episodes),r.a.createElement("dt",null,"Status"),r.a.createElement("dd",null,t.status),r.a.createElement("dt",null,"Aired"),r.a.createElement("dd",null,t.aired.string))),r.a.createElement(Ge,null,r.a.createElement("h2",null,ue(t.title)),r.a.createElement("h3",null,ue(t.title_japanese)),r.a.createElement(Ze,null,r.a.createElement("h4",null,"Tunes"),r.a.createElement(Be,{type:"OP",tunes:t.opening_themes,anime:{english:t.title,japanese:t.title_japanese},image:t.image_url,malId:t.mal_id,queue:a,loaded:i,playing:o,togglePlay:l,addTune:u}),r.a.createElement(Be,{type:"ED",tunes:t.ending_themes,anime:{english:t.title,japanese:t.title_japanese},image:t.image_url,malId:t.mal_id,queue:a,loaded:i,playing:o,togglePlay:l,addTune:u})),r.a.createElement("p",null,ue(t.synopsis).replace("[Written by MAL Rewrite]","").trim()))):r.a.createElement("div",null,"Loading...")}et.defaultProps={error:null,anime:null};var tt=et;function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var at=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={error:null,anime:null},n.loadAnime=n.loadAnime.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadAnime()}},{key:"componentDidUpdate",value:function(e){var t=this.props.match;e.match.params.mal_id!==t.params.mal_id&&this.loadAnime()}},{key:"loadAnime",value:function(){var e=this,t=this.props.match;this.setState({anime:null}),fetch("".concat("https://api.jikan.moe/v3/","anime/").concat(t.params.mal_id)).then(function(e){return e.json()}).then(function(t){"error"in t?e.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):e.setState({anime:t})},function(t){e.setState({error:t})})}},{key:"render",value:function(){var e=this.props,t=e.queue,n=e.loaded,a=e.playing,i=e.togglePlay,o=e.addTune,l=this.state,u=l.anime,c=l.error;return r.a.createElement(tt,{anime:u,error:c,queue:t,loaded:n,playing:a,togglePlay:i,addTune:o})}}]),t}(a.Component),rt=n(45),it=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={audio:null},n.handleReady=n.handleReady.bind(Object(m.a)(n)),n.handlePlay=n.handlePlay.bind(Object(m.a)(n)),n.handleEnd=n.handleEnd.bind(Object(m.a)(n)),n.handleStateChange=n.handleStateChange.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.loaded,n=e.playing,a=e.progress,r=e.volume,i=this.state.audio;i&&t&&(n?i.playVideo():i.pauseVideo(),a.seek&&i.seekTo(a.timePassed),i.setVolume(r))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"handleReady",value:function(e){var t=this,n=e.target;this.setState({audio:n}),n.mute(),this.timer=setInterval(function(){return t.tick()},100)}},{key:"handlePlay",value:function(){var e=this.props,t=e.loaded,n=e.setProgress,a=e.updateAppState,r=this.state.audio;t||(r.pauseVideo(),n(0,!0),r.unMute(),a({loaded:!0}))}},{key:"handleEnd",value:function(){(0,this.props.nextTune)()}},{key:"handleStateChange",value:function(e){var t=this.props,n=t.updateAppState,a=t.updateState,r=e.target.getDuration();-1!==e.data&&5!==e.data||n({loaded:!1}),r&&a({duration:r})}},{key:"tick",value:function(){var e=this.props,t=e.playing,n=e.setProgress,a=this.state.audio;t&&n(a.getCurrentTime(),!1)}},{key:"render",value:function(){var e=this.props.tune;return r.a.createElement(S,null,r.a.createElement(rt.a,{videoId:e.youtubeId,opts:{playerVars:{autoplay:1}},onReady:this.handleReady,onPlay:this.handlePlay,onEnd:this.handleEnd,onStateChange:this.handleStateChange}))}}]),t}(a.Component),ot=n(48),lt=n.n(ot),ut=n(49),ct=n.n(ut);function st(){var e=Object(g.a)(["\n  display: flex;\n  margin-right: 1rem;\n"]);return st=function(){return e},e}var dt=l.b.div(st());var pt=function(e){var t=e.loaded,n=e.playing,a=e.previousTune,i=e.togglePlay,o=e.nextTune;return r.a.createElement(dt,null,r.a.createElement(C,{onClick:a},r.a.createElement(ke.a,{icon:lt.a})),r.a.createElement(qe,{loaded:t,playing:n,togglePlay:i}),r.a.createElement(C,{onClick:o},r.a.createElement(ke.a,{icon:ct.a})))};function ht(){var e=Object(g.a)(["\n  flex-grow: 1;\n"]);return ht=function(){return e},e}function mt(){var e=Object(g.a)(["\n  width: 37px;\n  font-size: 0.8rem;\n  text-align: center;\n\n  &:first-child {\n    margin-right: 0.5rem;\n  }\n\n  &:last-child {\n    margin-left: 0.5rem;\n  }\n"]);return mt=function(){return e},e}function ft(){var e=Object(g.a)(["\n  display: flex;\n  flex-grow: 1;\n  margin-right: 1rem;\n"]);return ft=function(){return e},e}var gt=l.b.div(ft()),bt=l.b.span(mt()),vt=l.b.input(ht()),yt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={prevPlaying:null},n.handleMouseDown=n.handleMouseDown.bind(Object(m.a)(n)),n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleMouseUp=n.handleMouseUp.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleMouseDown",value:function(){var e=this.props,t=e.playing,n=e.pauseTune;this.setState({prevPlaying:t}),n()}},{key:"handleChange",value:function(e){(0,this.props.setProgress)(parseInt(e.target.value,10),!0)}},{key:"handleMouseUp",value:function(){var e=this.props.playTune;this.state.prevPlaying&&e()}},{key:"render",value:function(){var e=this.props,t=e.progress,n=e.duration,a=e.loaded,i=function(e){return new Date(1e3*e).toISOString().substr(14,5)};return r.a.createElement(gt,null,r.a.createElement(bt,null,i(t.timePassed)),r.a.createElement(vt,{type:"range",value:t.timePassed,min:"0",max:n,disabled:!a,onMouseDown:this.handleMouseDown,onChange:this.handleChange,onMouseUp:this.handleMouseUp}),r.a.createElement(bt,null,i(n)))}}]),t}(a.Component);yt.defaultProps={duration:null};var Ot=yt,jt=n(50),kt=n.n(jt),Et=n(51),wt=n.n(Et),St=n(52),Pt=n.n(St);function Tt(){var e=Object(g.a)(["\n  width: 44px;\n"]);return Tt=function(){return e},e}function xt(){var e=Object(g.a)(["\n  width: 129px;\n"]);return xt=function(){return e},e}function Ct(){var e=Object(g.a)(["\n  position: absolute;\n  top: -129px;\n  left: calc(50% - 22px);\n  display: ",";\n  align-items: center;\n  height: 44px;\n  padding: 0.5rem;\n  background-color: #fff;\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n  border-right: 1px solid ",";\n  transform: rotate(-90deg);\n  transform-origin: 64.5px 64.5px;\n"]);return Ct=function(){return e},e}function Dt(){var e=Object(g.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: 823px) {\n    margin-right: 1rem;\n  }\n"]);return Dt=function(){return e},e}var qt=l.b.div(Dt()),Mt=l.b.div(Ct(),function(e){return e.hovering?"flex":"none"},function(e){return e.theme.primary},function(e){return e.theme.primary},function(e){return e.theme.primary}),It=l.b.input(xt()),At=C.extend(Tt()),Vt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={hovering:!1},n.handleMouseEnter=n.handleMouseEnter.bind(Object(m.a)(n)),n.handleMouseLeave=n.handleMouseLeave.bind(Object(m.a)(n)),n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleClick=n.handleClick.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleMouseEnter",value:function(){this.setState({hovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({hovering:!1})}},{key:"handleChange",value:function(e){(0,this.props.setVolume)(parseInt(e.target.value,10))}},{key:"handleClick",value:function(){(0,this.props.toggleMute)()}},{key:"render",value:function(){var e=this.props.volume,t=this.state.hovering,n=kt.a;return e<50&&(n=wt.a),0===e&&(n=Pt.a),r.a.createElement(qt,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.a.createElement(Mt,{hovering:t},r.a.createElement(It,{type:"range",value:e,min:"0",max:"100",onChange:this.handleChange})),r.a.createElement(At,{onClick:this.handleClick},r.a.createElement(ke.a,{icon:n})))}}]),t}(a.Component),Lt=n(53),Rt=n.n(Lt),_t=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleClick",value:function(){(0,this.props.buttonClick)()}},{key:"render",value:function(){var e=this.props.open;return r.a.createElement(C,{onClick:this.handleClick,"aria-label":e?"Close queue":"Open queue"},r.a.createElement(ke.a,{icon:Rt.a}))}}]),t}(a.Component),Ut=n(54),Ft=n.n(Ut);function Nt(){var e=Object(g.a)(["\n  margin-left: 0.5rem;\n"]);return Nt=function(){return e},e}var Wt=l.b.div(Nt()),Bt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},n.handleSkipClick=n.handleSkipClick.bind(Object(m.a)(n)),n.handleRemoveClick=n.handleRemoveClick.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleSkipClick",value:function(){var e=this.props;(0,e.skipToTune)(e.id)}},{key:"handleRemoveClick",value:function(){var e=this.props;(0,e.removeTune)(e.id)}},{key:"render",value:function(){var e=this.props,t=e.first,n=e.loaded,a=e.playing,i=e.togglePlay;return r.a.createElement(Wt,null,t?r.a.createElement(qe,{loaded:n,playing:a,togglePlay:i}):r.a.createElement(C,{"aria-label":"Play",onClick:this.handleSkipClick},r.a.createElement(ke.a,{icon:we.a})),r.a.createElement(C,{"aria-label":"Remove",onClick:this.handleRemoveClick},r.a.createElement(ke.a,{icon:Ft.a})))}}]),t}(a.Component);function Jt(){var e=Object(g.a)(["\n  width: 240px;\n  overflow: hidden;\n  font-size: 0.8rem;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Jt=function(){return e},e}function zt(){var e=Object(g.a)(["\n  margin-right: 0.5rem;\n  object-fit: cover;\n"]);return zt=function(){return e},e}function Kt(){var e=Object(g.a)(["\n  display: ",";\n  align-items: center;\n\n  @media (min-width: 823px) {\n    display: flex;\n  }\n"]);return Kt=function(){return e},e}var Yt=l.b.div(Kt(),function(e){return e.single?"none":"flex"}),Xt=l.b.img(zt()),Qt=l.b.div(Jt());function Ht(e){var t=e.tune,n=e.first,a=e.loaded,i=e.playing,o=e.controls,l=e.togglePlay,u=e.removeTune,c=e.skipToTune;return r.a.createElement(Yt,{single:!o},r.a.createElement(Xt,{src:t.image,alt:t.anime,width:"38",height:"38"}),r.a.createElement("div",null,r.a.createElement(Qt,null,r.a.createElement(k.a,{to:"/anime/".concat(t.malId)},ue(t.anime))),r.a.createElement(Qt,{title:ue(t.title)},ue(t.title))),o&&r.a.createElement(Bt,{id:t.id,first:n,loaded:a,playing:i,togglePlay:l,removeTune:u,skipToTune:c}))}Ht.defaultProps={controls:!1,tune:{image:"http://via.placeholder.com/38x38",anime:"",title:"Nothing playing"},first:!1,loaded:null,playing:null,togglePlay:null,removeTune:null,skipToTune:null};var $t=Ht;function Gt(){var e=Object(g.a)(["\n  margin: 0.5rem;\n\n  &:first-child {\n    font-weight: bold;\n  }\n"]);return Gt=function(){return e},e}function Zt(){var e=Object(g.a)(["\n  position: fixed;\n  right: 0;\n  bottom: 71px;\n  z-index: -1;\n  display: ",";\n  height: 239px;\n  padding: 0;\n  margin-bottom: 0;\n  overflow-y: scroll;\n  list-style: none;\n  background-color: #fff;\n  border: 1px solid ",";\n  border-bottom: 0;\n"]);return Zt=function(){return e},e}function en(){var e=Object(g.a)(["\n  position: relative;\n  margin-left: 1rem;\n"]);return en=function(){return e},e}var tn=l.b.div(en()),nn=l.b.ul(Zt(),function(e){return e.open?"block":"none"},function(e){return e.theme.primary}),an=l.b.li(Gt()),rn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={open:!1},n.buttonClick=n.buttonClick.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"buttonClick",value:function(){var e=this.state.open;this.setState({open:!e})}},{key:"render",value:function(){var e=this.props,t=e.queue,n=e.loaded,a=e.playing,i=e.togglePlay,o=e.removeTune,l=e.skipToTune,u=this.state.open;return r.a.createElement(tn,null,r.a.createElement(_t,{open:u,buttonClick:this.buttonClick}),r.a.createElement(nn,{open:u},t.map(function(e,t){return r.a.createElement(an,{key:e.id},r.a.createElement($t,{controls:!0,tune:e,first:0===t,loaded:n,playing:a,togglePlay:i,removeTune:o,skipToTune:l}))})))}}]),t}(a.Component);function on(){var e=Object(g.a)(["\n  position: fixed;\n  right: 0;\n  bottom: ",";\n  left: 0;\n  display: flex;\n  align-items: center;\n  height: 71px;\n  padding: 1rem;\n  background-color: #fff;\n  border-top: 1px solid ",";\n  transition: bottom 0.34s ease;\n"]);return on=function(){return e},e}var ln=l.b.div(on(),function(e){return e.show?"0":"-71px"},function(e){return e.theme.primary}),un=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={progress:{timePassed:0,seek:!1},duration:null,volume:100,prevVolume:null},n.handleKeyDown=n.handleKeyDown.bind(Object(m.a)(n)),n.updateState=n.updateState.bind(Object(m.a)(n)),n.setProgress=n.setProgress.bind(Object(m.a)(n)),n.setVolume=n.setVolume.bind(Object(m.a)(n)),n.toggleMute=n.toggleMute.bind(Object(m.a)(n)),n.rewind=n.rewind.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"setProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this.setState({progress:{timePassed:e,seek:t}})}},{key:"setVolume",value:function(e){var t=this.state.volume;this.setState({prevVolume:t}),this.setState({volume:e})}},{key:"updateState",value:function(e){this.setState(e)}},{key:"toggleMute",value:function(){var e=this.state,t=e.volume,n=e.prevVolume;t>0?this.setVolume(0):this.setVolume(n)}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.inputFocused,a=t.togglePlay;n||("Space"===e.code||"KeyK"===e.code?(a(),e.preventDefault()):"KeyM"===e.code&&(this.toggleMute(),e.preventDefault()))}},{key:"rewind",value:function(){var e=this.props,t=e.history,n=e.previousTune;this.state.progress.timePassed>5||!t.length?this.setState({progress:{timePassed:0,seek:!0}}):n()}},{key:"render",value:function(){var e=this.props,t=e.queue,n=e.loaded,i=e.playing,o=e.nextTune,l=e.updateAppState,u=e.togglePlay,c=e.playTune,s=e.pauseTune,d=e.removeTune,p=e.skipToTune,h=this.state,m=h.progress,f=h.volume,g=h.duration,b=h.prevVolume,v=t[0];return r.a.createElement(ln,{show:!!v},v&&r.a.createElement(a.Fragment,null,r.a.createElement(it,{tune:v,progress:m,volume:f,loaded:n,playing:i,nextTune:o,updateAppState:l,audioReady:this.audioReady,updateState:this.updateState,setProgress:this.setProgress}),r.a.createElement(pt,{loaded:n,playing:i,progress:m,audioReady:this.audioReady,previousTune:this.rewind,togglePlay:u,nextTune:o}),r.a.createElement(Ot,{progress:m,duration:g,loaded:n,playing:i,setProgress:this.setProgress,playTune:c,pauseTune:s}),r.a.createElement(Vt,{volume:f,prevVolume:b,setVolume:this.setVolume,toggleMute:this.toggleMute}),r.a.createElement($t,{tune:v}),r.a.createElement(rn,{loaded:n,queue:t,playing:i,togglePlay:u,removeTune:d,skipToTune:p})))}}]),t}(a.Component);function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dn(){var e=Object(g.a)(["\n  flex-grow: 1;\n  padding: 1rem;\n"]);return dn=function(){return e},e}function pn(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  min-height: 100%;\n  padding-bottom: ",";\n  transition: padding-bottom 0.35s ease;\n"]);return pn=function(){return e},e}var hn={grey:"#d2d2d2",black:"#212529",primary:"#e48d9c",inputPaddingY:".375rem",inputPaddingX:".75rem"},mn=l.b.div(pn(),function(e){return e.controlsOpen?"71px":"0"}),fn=l.b.section(dn()),gn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={error:null,results:[],queue:[],history:[],playing:!1,loaded:!1,inputFocused:!1},n.hydrateState=n.hydrateState.bind(Object(m.a)(n)),n.updateState=n.updateState.bind(Object(m.a)(n)),n.saveState=n.saveState.bind(Object(m.a)(n)),n.addTune=n.addTune.bind(Object(m.a)(n)),n.removeTune=n.removeTune.bind(Object(m.a)(n)),n.playTune=n.playTune.bind(Object(m.a)(n)),n.pauseTune=n.pauseTune.bind(Object(m.a)(n)),n.togglePlay=n.togglePlay.bind(Object(m.a)(n)),n.skipToTune=n.skipToTune.bind(Object(m.a)(n)),n.previousTune=n.previousTune.bind(Object(m.a)(n)),n.nextTune=n.nextTune.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.hydrateState(),window.addEventListener("beforeunload",this.saveState)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.saveState),this.saveState()}},{key:"hydrateState",value:function(){var e=JSON.parse(localStorage.getItem("queue"))||[],t=JSON.parse(localStorage.getItem("history"))||[];this.setState({queue:e,history:t})}},{key:"updateState",value:function(e){this.setState(e)}},{key:"saveState",value:function(){var e=this.state,t=e.queue,n=e.history;localStorage.setItem("queue",JSON.stringify(t)),localStorage.setItem("history",JSON.stringify(n.slice(0,20)))}},{key:"addTune",value:function(e,t){var n=this.state,a=n.queue,r=n.history,i=n.playing,o=a.map(function(e){return e.id}),l=r.map(function(e){return e.id}),u=j([].concat(Object(c.a)(o),Object(c.a)(l)),"queue");t?i?this.setState({queue:[sn({},e,{id:u})].concat(Object(c.a)(a.slice(1))),playing:!0,history:[a[0]].concat(Object(c.a)(r))}):this.setState({queue:[sn({},e,{id:u})].concat(Object(c.a)(a)),playing:!0}):this.setState({queue:[].concat(Object(c.a)(a),[sn({},e,{id:u})])})}},{key:"removeTune",value:function(e){var t=this.state,n=t.queue,a=t.playing;this.setState({queue:n.filter(function(t){return t.id!==e}),playing:1!==n.length&&a})}},{key:"playTune",value:function(){this.setState({playing:!0})}},{key:"pauseTune",value:function(){this.setState({playing:!1})}},{key:"togglePlay",value:function(){this.state.playing?this.pauseTune():this.playTune()}},{key:"skipToTune",value:function(e){var t=this.state,n=t.queue,a=t.history,r=n.findIndex(function(t){return t.id===e});this.setState({queue:n.filter(function(e,t){return t>=r}),playing:!0,history:[n[0]].concat(Object(c.a)(a))})}},{key:"previousTune",value:function(){var e=this.state,t=e.queue,n=e.history;this.setState({queue:[n[0]].concat(Object(c.a)(t)),history:n.slice(1)})}},{key:"nextTune",value:function(){var e=this.state,t=e.queue,n=e.history,a=e.playing;this.setState({queue:t.slice(1),playing:1!==t.length&&a,history:[t[0]].concat(Object(c.a)(n))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.queue,a=t.error,i=t.results,o=t.loaded,u=t.playing,c=t.history,s=t.inputFocused;return r.a.createElement(b.a,null,r.a.createElement(l.a,{theme:hn},r.a.createElement(mn,{className:"App",controlsOpen:n.length>0},r.a.createElement(z,{updateState:this.updateState}),r.a.createElement(fn,null,r.a.createElement(v.a,{exact:!0,path:"/",component:ae}),r.a.createElement(v.a,{path:"/results",render:function(e){return r.a.createElement(ve,Object.assign({},e,{error:a,results:i}))}}),r.a.createElement(v.a,{path:"/anime/:mal_id",render:function(t){return r.a.createElement(at,Object.assign({},t,{queue:n,loaded:o,playing:u,togglePlay:e.togglePlay,addTune:e.addTune}))}}),r.a.createElement(un,{queue:n,history:c,playing:u,loaded:o,inputFocused:s,updateAppState:this.updateState,removeTune:this.removeTune,playTune:this.playTune,pauseTune:this.pauseTune,togglePlay:this.togglePlay,skipToTune:this.skipToTune,previousTune:this.previousTune,nextTune:this.nextTune})),r.a.createElement(H,null))))}}]),t}(a.Component),bn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function vn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}Object(l.c)(['\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n\n  body {\n    min-width: 808px;\n    overflow-y: scroll;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 1rem;\n    line-height: 1.5;\n  }\n\n  h1, h2, h3, h4, h5, h6 {\n    margin-top 0;\n    margin-bottom: .5rem;\n  }\n\n  p {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ol,\n  ul,\n  dl {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ol ol,\n  ul ul,\n  ol ul,\n  ul ol {\n    margin-bottom: 0;\n  }\n\n  dt {\n    font-weight: 700;\n  }\n\n  dd {\n    margin-bottom: .5rem;\n    margin-left: 0;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  img {\n    vertical-align: middle;\n  }\n\n  label {\n    display: inline-block;\n    margin-bottom: .5rem;\n  }\n\n  input,\n  button,\n  select,\n  optgroup,\n  textarea {\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n']),o.a.render(r.a.createElement(gn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/op-ed",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/op-ed","/service-worker.js");bn?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):vn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):vn(e)})}}()},41:function(e,t,n){e.exports=n.p+"static/media/nonon.03621a22.mp4"},42:function(e,t,n){e.exports=n.p+"static/media/nonon.13dbfca8.webm"},55:function(e,t,n){e.exports=n(110)}},[[55,1,2]]]);
//# sourceMappingURL=main.d6f28eb6.chunk.js.map